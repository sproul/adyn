@val = (
{
'A' => 'FROM PilotSkills AS PS2<br>WHERE (PS1.pilot = PS2.pilot)<br>&nbsp;&nbsp;AND (PS2.plane = Hangar.plane))); ',
'Q' => 'q<br>how to create a real SSL server Certificate for apache?<br>a<ul><li>create the certificate signing request with a series of openssl commands:<br>$ openssl genrsa -des3 -out server.key 1024<br>$ openssl rsa -noout -text -in server.key</li><li>You now have to send this Certificate Signing Request (CSR) to a Certifying Authority (CA) for signing. The result is then a real Certificate which can be used for Apache. Here you have to options: First you can let the CSR sign by a commercial CA like Verisign or Thawte. Then you usually have to post the CSR into a web form, pay for the signing and await the signed Certificate you then can store into a server.crt file. For more information about commercial CAs have a look at the following locations:<br>&nbsp;&nbsp;Verisign<br><a href=\'http://digitalid.verisign.com/server/apacheNotice.htm\'>http://digitalid.verisign.com/server/apacheNotice.htm</a><br>...</li></ul>q<br>FQDN<br>a<br>"Fully Qualified Domain Name" -- eg, www.foo.dom<br>q<br>"CommonName" in openssl land<br>a<br>you would use the site\'s "Fully Qualified Domain Name" -- eg, www.foo.dom<br>q<br>why would I want to convert a certificate from PEM to DER format?<br>a<br>The default certificate format for SSLeay/OpenSSL is PEM, which actually is Base64 encoded DER with header and footer lines. <font color=red>For some applications (e.g. Microsoft Internet Explorer) you need the certificate in plain DER format</font>. You can convert a PEM file cert.pem into the corresponding DER file cert.der with the following command:<br>&nbsp;&nbsp;<font color=red>$ openssl x509 -in cert.pem -out cert.der -outform DER </font><br>&nbsp;&nbsp;q<br>After I have installed my new Verisign Global ID server certificate, the browsers complain that they cannot verify the server certificate? [L]<br>&nbsp;&nbsp;&nbsp;&nbsp;a<br>That is because <font color=red>Verisign uses an intermediate CA certificate between the root CA certificate</font> (which is installed in the browsers) <font color=red>and the server certificate</font> (which you installed in the server). You should have received this additional CA certificate from Verisign. If not, complain to them. Then configure this certificate with the SSLCertificateChainFile directive in the server. This makes sure the intermediate CA certificate is send to the browser and this way fills the gap in the certificate chain.<br>&nbsp;&nbsp;q<br>Why can\'t I use SSL with name-based/non-IP-based virtual hosts? [L]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a<br>The reason is very technical. Actually it\'s some sort of a chicken and egg problem: The SSL protocol layer stays below the HTTP protocol layer and encapsulates HTTP. When an SSL connection (HTTPS) is established Apache/mod_ssl has to negotiate the SSL protocol parameters with the client. For this mod_ssl has to consult the configuration of the virtual server (for instance it has to look for the cipher suite, the server certificate, etc.). But in order to dispatch to the correct virtual server Apache has to know the Host HTTP header field. For this the HTTP request header has to be read. This cannot be done before the SSL handshake is finished. But the information is already needed at the SSL handshake phase. Bingo!<br>&nbsp;&nbsp;q<br>how does a Web browser trust a certificate<br>a<ul><li>the certificate includes a signature based on the private key of a well-known CA (certificate authority)</li><li>web browsers ship with the public keys of well-known CAs.</li></ul>q<br>what is the encryption used for ssl?<br>a<br>this is negotiated between the browser and the server. They use the server\'s public key to encrypt the initial handshake. Then they select a session key which will be used only for the current session.<br>q<br>what is the apache config for ssl?<br>a<br>There should also be a new section in the virtual host configuration that looks something like this:<br>&nbsp;&nbsp;&lt;VirtualHost _default_:443&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# General setup for the virtual host<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DocumentRoot "/usr/local/apache/htdocs"<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerName secure.example.site<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ServerAdmin theo@example.site<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ErrorLog /usr/local/apache/logs/error_log<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransferLog /usr/local/apache/logs/access_log<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Enable/Disable SSL for this virtual host.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SSLEngine on<br>&lt;/VirtualHost&gt;<br>&nbsp;&nbsp;q<br>describe htaccess handshake<br>a<ul><li>1 The browser sends the usual request to the web server for a URL.</li><li>2 The web server\'s configuration indicates that authentication is required for that URL. It <font color=red>sends back a 401 response to the browser along with a realm for authentication</font>; the realm is a human-readable name used by the server to identify a group of secured documents or applications.</li><li>3 <font color=red>If the browser implements authentication caching, it checks its cache for the given realm and server ID</font>. If it already has a username and password for the realm, it uses it to skip the next step.</li><li>4 If the browser doesn\'t have a cache, or the realm isn\'t there, it displays a dialog box or prompts the user for his username and password for the given realm. The realm should be displayed here so that the user knows which user and password to send.</li><li>5 The browser sends the URL request to the server again, including the username and password in the request headers.</li><li>6 The server checks the URL, sees that it requires validation (again— remember that this is a stateless protocol), and sees that it has validation headers. It looks up the given username and password in some form of database.</li><li>7 If the information is valid, the web server applies the authentication rules for the URL and verifies that the user is authorized to read the associated document or run the application. Everything proceeds as normal if so; if not, it sends back an error page.</li><li>8 If the username and password didn\'t validate, the server sends another 401 response back to the browser, and the cycle continues.</li></ul>q<br>sample htaccess httpd.conf settings<br>a<br>&lt;Location /perl-status&gt;<br>SetHandler perl-script<br>PerlHandler Apache::Status<br><font color=red>AuthUserFile data/admin_users<br>AuthName "Administrator functions"<br>AuthType basic<br>require valid-user</font><br>&lt;/ Location&gt;<br>q<br>how do you create an htaccess password file<br>a<br><font color=red>htpasswd</font><br>q<br>htaccess can be slow...<br>a<br>...if using a huge text passwd file. But apache can be configured to use a db instead.<br>q<br>free reimplementation of syb Client Library.<br>a<br>FreeTDS<br>q<br>browser differences in their acceptance of a CA<br>a<br>A Certificate does not have to be signed by a public CA. You can use your private key to sign the Certificate which contains your public key. You can install this Certificate into your server, and people using Netscape Navigator (not MSIE) will be able to connect after clicking OK to a warning dialogue. You can get MSIE to work, and your customers can eliminate the dialogue, by installing that Certificate manually into their browsers.<br>&nbsp;&nbsp;q<br>DBI: Multiple SQL statements combined in a single statement handle (C&lt;$sth&gt;)?<br>&nbsp;&nbsp;a<br>No, though some databases and drivers do support this (notably Sybase and SQL Server).<br>&nbsp;&nbsp;q<br>how do you pass bound values to a statement?<br>a<br>as args to execute():<br>&nbsp;&nbsp;&nbsp;&nbsp;my $sth = $dbh-&gt;prepare(q&#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;INSERT INTO sales (product_code, qty, price) VALUES (?, ?, ?)<br>&nbsp;&nbsp;&#125;) or die $dbh-&gt;errstr;<br>&nbsp;&nbsp;while (&lt;&gt;) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chomp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my ($product_code, $qty, $price) = split /,/;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sth-&gt;execute($product_code, $qty, $price) or die $dbh-&gt;errstr;<br>&nbsp;&nbsp;&#125;<br>&nbsp;&nbsp;$dbh-&gt;commit or die $dbh-&gt;errstr;<br>&nbsp;&nbsp;q<br>DBI errors lead to...<br>a<br>...emsgs going to C&lt;$DBI::err&gt; and C&lt;$DBI::errstr&gt;.<br>q<br>Examples of C&lt;$data_source&gt; values for DBI::connect are<br>a<br>&nbsp;&nbsp;dbi:DriverName:database_name<br>&nbsp;&nbsp;dbi:DriverName:database_name@hostname:port<br>&nbsp;&nbsp;dbi:DriverName:database=database_name;host=hostname;port=port<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>connection pooling in DBI<br>a<br>use connect_cached instead of connect<br>q<br>DBI equivalent of sp_databases<br>a<br>&nbsp;&nbsp;@ary = DBI-&gt;data_sources($driver);<br>&nbsp;&nbsp;q<br>For DBI Perl, one really needs to just distinguish between numbers and strings. How do you know which you are dealing with?<br>a<br>&nbsp;&nbsp;@bool = DBI::looks_like_number(@array);<br>&nbsp;&nbsp;q<br>delete some rows<br>a<br>preps + executes in one swoop:<br>&nbsp;&nbsp;$rows = $dbh-&gt;do($statement) or die $dbh-&gt;errstr;<br>&nbsp;&nbsp;q<br>@mots = qw(moi you him us all);<br>a<br>@mots = ("moi", "toi"," lui", "nous"," all");<br>q<br>can here-doc syntax be used with other forms of quoting?<br>a<br>yes -- variables are interpolated<br>q<br>explain Quote and Quote-like Operators<br>a<br>While we usually think of quotes as literal values, in Perl they function as operators, providing various kinds of interpolating and pattern matching capabilities. Perl provides customary quote characters for these behaviors, but also provides a way for you to choose your quote character for any of them. In the following table, a &#123;&#125; represents any pair of delimiters you choose. Non-bracketing delimiters use the same character fore and aft, but the 4 sorts of brackets (round, angle, square, curly) will all nest.<table><tr><td>Customary</td><td>Generic</td><td>Meaning</td><td>Interpolates</td></tr><tr><td>\'\'</td><td>q&#123;&#125;</td><td>Literal</td><td>no</td></tr><tr><td>""</td><td>qq&#123;&#125;</td><td>Literal</td><td>yes</td></tr><tr><td>``</td><td><font color=red>qx&#123;&#125;</font></td><td>Command</td><td>yes</td></tr><tr><td>&nbsp;</td><td>qw&#123;&#125;</td><td>Word</td><td>list no</td></tr><tr><td>//</td><td>m&#123;&#125;</td><td>Pattern</td><td>match yes</td></tr><tr><td>&nbsp;</td><td>s&#123;&#125;&#123;&#125;</td><td>Substitution</td><td>yes</td></tr><tr><td>&nbsp;</td><td>tr&#123;&#125;&#123;&#125;</td><td>Translation</td><td>no</td></tr></table>For constructs that do interpolation, variables beginning with ``$\'\' or ``@\'\' are interpolated, as are the following sequences:<br><pre><br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;t tab (HT, TAB)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;n newline (LF, NL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;r return (CR)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;f form feed (FF)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;b backspace (BS)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;a alarm (bell) (BEL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;e escape (ESC)<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;033 octal char<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;x1b hex char<br>&nbsp;&nbsp;&nbsp;&nbsp;&#092;c[ control char<br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;l lowercase next char</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;u uppercase next char</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;L lowercase till &#092;E</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;U uppercase till &#092;E</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;E end case modification</font><br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>&#092;Q quote regexp metacharacters till &#092;E</font><br></pre><br>&nbsp;&nbsp;q<br>what\'s the result from:<br>&nbsp;&nbsp;my $x = 32;<br>print ":$x&#092;n";<br>print \'$x&#092;n\';<br>print "\'$x\'&#092;n";<br>&nbsp;&nbsp;a<br>&nbsp;&nbsp;:32<br>$x&#092;n\'32\'<br>q<br>main DBI methods<br>a<br>use DBI;<br>&nbsp;&nbsp;&nbsp;&nbsp;@driver_names = DBI-&gt;available_drivers;<br>&nbsp;&nbsp;@data_sources = DBI-&gt;data_sources($driver_name, &#092;%attr);<br>&nbsp;&nbsp;&nbsp;&nbsp;$dbh = DBI-&gt;connect($data_source, $username, $auth, &#092;%attr);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rowsAffected = $dbh-&gt;do($statement);<br>&nbsp;&nbsp;$rowsAffected = $dbh-&gt;do($statement, &#092;%attr);<br>&nbsp;&nbsp;$rowsAffected = $dbh-&gt;do($statement, &#092;%attr, @bind_values);<br>&nbsp;&nbsp;&nbsp;&nbsp;$ary_ref = $dbh-&gt;selectall_arrayref($statement); # returns array of refs to rows (row=array of cols)<br>&nbsp;&nbsp;$hash_ref = $dbh-&gt;selectall_hashref($statement, $key_field);<br>&nbsp;&nbsp;&nbsp;&nbsp;$ary_ref = $dbh-&gt;selectcol_arrayref($statement);<br>&nbsp;&nbsp;$ary_ref = $dbh-&gt;selectcol_arrayref($statement, &#092;%attr);<br>&nbsp;&nbsp;&nbsp;&nbsp;@row_ary = $dbh-&gt;selectrow_array($statement);<br>&nbsp;&nbsp;$ary_ref = $dbh-&gt;selectrow_arrayref($statement);<br>&nbsp;&nbsp;$hash_ref = $dbh-&gt;selectrow_hashref($statement);<br>&nbsp;&nbsp;&nbsp;&nbsp;$sth = $dbh-&gt;prepare($statement);<br>&nbsp;&nbsp;$sth = $dbh-&gt;prepare_cached($statement);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $sth-&gt;bind_param($p_num, $bind_value);<br>&nbsp;&nbsp;$rc = $sth-&gt;bind_param($p_num, $bind_value, $bind_type);<br>&nbsp;&nbsp;$rc = $sth-&gt;bind_param($p_num, $bind_value, &#092;%attr);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rowsAffected = $sth-&gt;execute;<br>&nbsp;&nbsp;$rowsAffected = $sth-&gt;execute(@bind_values);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $sth-&gt;bind_param_array($p_num, $bind_values, &#092;%attr);<br>&nbsp;&nbsp;$rowsAffected = $sth-&gt;execute_array(&#092;%attr);<br>&nbsp;&nbsp;$rowsAffected = $sth-&gt;execute_array(&#092;%attr, @bind_values);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $sth-&gt;bind_col($col_num, &#092;$col_variable);<br>&nbsp;&nbsp;$rc = $sth-&gt;bind_columns(@list_of_refs_to_vars_to_bind);<br>&nbsp;&nbsp;&nbsp;&nbsp;@row_ary = $sth-&gt;fetchrow_array;<br>&nbsp;&nbsp;$ary_ref = $sth-&gt;fetchrow_arrayref;<br>&nbsp;&nbsp;$hash_ref = $sth-&gt;fetchrow_hashref;<br>&nbsp;&nbsp;&nbsp;&nbsp;$ary_ref = $sth-&gt;fetchall_arrayref;<br>&nbsp;&nbsp;$ary_ref = $sth-&gt;fetchall_arrayref( $slice, $max_rows );<br>&nbsp;&nbsp;&nbsp;&nbsp;$hash_ref = $sth-&gt;fetchall_hashref( $key_field );<br>&nbsp;&nbsp;&nbsp;&nbsp;$rv = $sth-&gt;rows;<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $dbh-&gt;begin_work;<br>&nbsp;&nbsp;$rc = $dbh-&gt;commit;<br>&nbsp;&nbsp;$rc = $dbh-&gt;rollback;<br>&nbsp;&nbsp;&nbsp;&nbsp;$quoted_string = $dbh-&gt;quote($string);<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $h-&gt;err;<br>&nbsp;&nbsp;$str = $h-&gt;errstr;<br>&nbsp;&nbsp;$rv = $h-&gt;state;<br>&nbsp;&nbsp;&nbsp;&nbsp;$rc = $dbh-&gt;disconnect;<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>By default, Perl ignores the current locale. How can we make perl pay attention? And then how do you switch locales?<br>a<br>The use <font color=red>locale pragma</font> tells Perl to use the current locale for some operations.<br>To change locale: <font color=red>setlocale()</font><br>&nbsp;&nbsp;The comparison operators (<font color=red>lt, le, cmp, ge, and gt</font>) and the POSIX string collation functions strcoll() and strxfrm() use LC_COLLATE. <font color=red>sort()</font> is also affected if used without an explicit comparison function, because it uses cmp by default.<br>&nbsp;&nbsp;Note: eq and ne are unaffected by locale: they always perform a byte-by-byte comparison of their scalar operands. What\'s more, if cmp finds that its operands are equal according to the collation sequence specified by the current locale, it goes on to perform a byte-by-byte comparison, and only returns 0 (equal) if the operands are bit-for-bit identical. If you really want to know whether two strings--which eq and cmp may consider different--are equal as far as collation in the locale is concerned, see the discussion in Category LC_COLLATE: Collation.<br>&nbsp;&nbsp;Regular expressions and case-modification functions (<font color=red>uc(), lc(), ucfirst(), and lcfirst()</font>) use LC_CTYPE<br>&nbsp;&nbsp;The formatting functions (<font color=red>printf(), sprintf() and write()) use LC_NUMERIC</font><br>&nbsp;&nbsp;The <font color=red>POSIX date formatting function (strftime()) uses LC_TIME.</font><br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>i18n: "ordering of characters"<br>a<br>is the same as "collation of characters"<br>q<br>what are the localization env vars<br>a<br>They are <a target=win2 href=http://www.fnal.gov/docs/products/perl/pod.new/5.00503/pod/perllocale.html#LOCALE_CATEGORIES>locale_categories</a><ul><li>Category LC_COLLATE: Collation (ie, ordering)</li><li>Category LC_CTYPE: Character Types -- alphabetic? numeric? What is &#092;w?</li><li>Category LC_NUMERIC: Numeric Formatting</li><li>Category LC_MONETARY: Formatting of monetary amounts: no effect on perl -- std punted</li><li>Category LC_TIME</li></ul>q<br>Most CGI.pm routines accept several arguments, sometimes as many as 20<br>optional ones! To simplify this interface...<br>a<br>...all routines use a named argument calling style that looks like this:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $q-&gt;header(-type=&gt;\'image/gif\',-expires=&gt;\'+3d\');<br>&nbsp;&nbsp;Each argument name is preceded by a dash. Neither case nor order matters in the argument list.<br>&nbsp;&nbsp;q<br>CGI: what are the "HTML shortcuts"?<br>a<br>A large number of routines in CGI.pm actually aren\'t specifically defined in the module, but are generated automatically as needed. These are the "HTML shortcuts," routines that generate HTML tags for use in dynamically-generated pages. HTML tags have both attributes (the attribute="value" pairs within the tag itself) and contents (the part between the opening and closing pairs.) To distinguish between attributes and contents, CGI.pm uses the convention of passing HTML attributes as a hash reference as the first argument, and the contents, if any, as any subsequent arguments. It works out like this:<table><tr><td>Code</td><td>Generated HTML</td></tr><tr><td>h1()</td><td><h1></td></tr><tr><td>h1(\'some\',\'contents\');</td><td><h1>some contents</h1></td></tr><tr><td>h1(&#123;-align=&gt;left&#125;);</td><td>&lt;h1 align="LEFT"&gt;</td></tr><tr><td>h1(&#123;-align=&gt;left&#125;,\'contents\');</td><td>&lt;h1 align="LEFT"&gt;contents</h1></td></tr>q<br>some generated HTML shortcut CGI.pm argument names conflict with built-in Perl functions...<br>a<br>The most frequent of these is the -values argument, used to create multi-valued menus, radio button clusters and the like. To get around this warning, you have several choices:<br>&nbsp;&nbsp;Put quotes around the argument name, e.g. \'-values\'<br>q<br>CGI: how to fetch the entire parameter list as a hash?<br>a<br>Vars() method does this. Called in a scalar context, it returns the parameter list as a tied hash reference. Changing a key changes the value of the parameter in the underlying CGI parameter list. Called in a list context, it returns the parameter list as an ordinary hash. This allows you to read the contents of the parameter list, but not to change it.<br>&nbsp;&nbsp;When using this, the thing you must watch out for are <font color=red>multivalued CGI parameters</font>. Because a hash cannot distinguish between scalar and list context, multivalued parameters will be returned as a <font color=red>packed string, separated by the "&#092;0"</font> (null) character. You must split this packed string in order to get at the individual values. This is the convention introduced long ago by Steve Brenner in his cgi-lib.pl module for Perl version 4.<br>&nbsp;&nbsp;If you wish to use Vars() as a function, <font color=red>import the cgi-lib</font> set of function calls (also see the section on CGI-LIB compatibility).<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q<br>CGI: save state between calls<br>a<br>&nbsp;&nbsp;&nbsp;&nbsp;$query-&gt;save(FILEHANDLE)<br>&nbsp;&nbsp;This will write the current state of the form to the provided filehandle. You can read it back in by providing a filehandle to the new() method. Note that the filehandle can be a file, a pipe, or whatever!<br>&nbsp;&nbsp;The format of the saved file is:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME1=VALUE1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME1=VALUE1\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME2=VALUE2<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NAME3=VALUE3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=<br>&nbsp;&nbsp;Both name and value are URL escaped. Multi-valued CGI parameters are represented as repeated names. A session record is delimited by a single = symbol:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use CGI;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open (OUT,"&gt;&gt;test.out") || die;<br>&nbsp;&nbsp;&nbsp;$records = 5;<br>&nbsp;&nbsp;&nbsp;foreach (0..$records) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $q = new CGI;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$q-&gt;param(-name=&gt;\'counter\',-value=&gt;$_);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$q-&gt;save(OUT);<br>&nbsp;&nbsp;&nbsp;&#125;<br>&nbsp;&nbsp;&nbsp;close OUT;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# reopen for reading<br>&nbsp;&nbsp;&nbsp;open (IN,"test.out") || die;<br>&nbsp;&nbsp;&nbsp;while (!eof(IN)) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $q = new CGI(IN);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $q-&gt;param(\'counter\'),"&#092;n";<br>&nbsp;&nbsp;&nbsp;&#125;<br>q<br>If errors occur while processing user input, what does CGI do?<br>a<br>CGI stops processing and returns an empty parameter list. You can test for the existence and nature of errors using the <font color=red>cgi_error()</font> function. The error messages are formatted as HTTP status codes. You can either incorporate the error text into an HTML page, or use it as the value of the HTTP status:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $error = $q-&gt;cgi_error;<br>&nbsp;&nbsp;&nbsp;&nbsp;if ($error) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print $q-&gt;header(-status=&gt;$error),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$q-&gt;start_html(\'Problems\'),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$q-&gt;h2(\'Request not processed\'),<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$q-&gt;strong($error);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit 0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br>q<br>how can you gen HTML tags newly added to the std using CGI\'s object-oriented interface?<br>a<br>Do the following pragma:<br>&nbsp;&nbsp;use CGI qw(-any);<br>&nbsp;&nbsp;then any method that the query object doesn\'t recognize will be interpreted as a new HTML tag<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use CGI qw(-any);<br>&nbsp;&nbsp;&nbsp;$q=new CGI;<br>&nbsp;&nbsp;&nbsp;print $q-&gt;gradient(&#123;speed=&gt;\'fast\',start=&gt;\'red\',end=&gt;\'blue\'&#125;);<br>&nbsp;&nbsp;q<br>in a mod_perl environment, how do you precompile all CGI routines<br>a<br>do the following in a startup script, and then import the functions individually in each mod_perl script:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use CGI();<br>&nbsp;&nbsp;&nbsp;CGI-&gt;compile();<br>&nbsp;&nbsp;q<br>js inheritance<br>a<br>function superClass() &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;this.bye = superBye;<br>&nbsp;&nbsp;this.hello = superHello;<br>&#125;<br>&nbsp;&nbsp;function subClass() &#123;<br>&nbsp;&nbsp;this.bye = subBye;<br>&#125;<br>subClass.prototype = new superClass;<br>&nbsp;&nbsp;q<br>server push<br>a<br>Only supported by Netscape Navigator<br>q<br>how do you do conditional processing in ms sql?<br>a<br>USE pubs<br>SELECT<br>&nbsp;&nbsp;&nbsp;CASE type<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN \'popular_comp\' THEN \'Popular Computing\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN \'mod_cook\' THEN \'Modern Cooking\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN \'business\' THEN \'Business\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN \'psychology\' THEN \'Psychology\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHEN \'trad_cook\' THEN \'Traditional Cooking\'<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ELSE \'Not yet categorized\'<br>&nbsp;&nbsp;&nbsp;END AS Category,<br>CONVERT(varchar(30), title) AS "Shortened Title",<br>price AS Price<br>FROM titles<br>WHERE price IS NOT NULL<br>&nbsp;&nbsp;q<br>how do you secure IIS?<br>a<br><a target=win2 href=\'http://www.microsoft.com/technet/treeview/default.asp?url=/technet/security/tools/tools/locktool.asp\'>IIS Lockdown Tool</a><br>q<br>PKI<br>a<br>public-key infrastructure<br>&nbsp;&nbsp;q<br>what\'s the problem with tomcat 4\'s reload<br>a<br>it is asynchronous, and so you cannot simply reload and then use the new version without waiting for the reload to finish<br>q<br>when serializing objex in Java what configuration step can greatly compress the output?<br>a<br>by default, each object instance is only written a single time. If you attempt to serialize the object additional times, small reference markers will take the place of the full-blown object. This means that the application must not use the same object instance with different internal state multiple times when serializing in the default mode.<br>&nbsp;&nbsp;If you cannot abide by this assumption, call ObjectOutputStream.reset() before each serialization to flush the record-keeping of previous objects, causing subsequent attempts to serialize the same object to lead to full-blown serialization again and again, instead of the use of smaller reference markers.<br>&nbsp;&nbsp;Which behavior is used by prevayler is determined by code in<br>&nbsp;&nbsp;c:/downloads/java/prevayler/prevayler1.02.001production/source/org/prevayler/implementation/CommandOutputStream.java<br>&nbsp;&nbsp;The code includes the call to reset(), along with a comment recommending that this call be commented out if you really want to be parsimonious with your memory, and can guarantee that your application will not violate the assumption described above.<br>&nbsp;&nbsp;This is really only an interesting question if you are serializing a graph of objects where there are numerous multiple references to the same object with the same contents. In this case significant savings can be had by not resetting the object output stream.<br>&nbsp;&nbsp;This should be a rare occasion for prevayler since the object stream is theoretically going to be a series of rather small command objects, each one unique.<br>&nbsp;&nbsp;q<br>get stack dumps for all threads<br>a<br>press Control-Break in the Java console window.<br>&nbsp;&nbsp;Also dumps the state of <font color=red>any monitors</font><br>q<br>what\'s wrong w/ StringBuffer<br>a<ul><li>all mods are synchronized</li><li>it is impossible to use a StringBuffer in a collection, as it does not override the equals() method provided by Object.</li></ul>q<br>jni sample<br>a<br>class HelloWorld &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;public native void displayHelloWorld();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.loadLibrary("hello");<br>&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public static void main(String[] args) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new HelloWorld().displayHelloWorld();<br>&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br>&#125;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C:<br>&nbsp;&nbsp;&nbsp;&nbsp;JNIEXPORT void JNICALL<br>Java_HelloWorld_displayHelloWorld(JNIEnv *env, jobject obj)<br>&#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;printf("Hello world!&#092;n");<br>&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&#125;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q<br>what is the jni build process<br>a<ul><li>declare a native method in Java</li><li><font color=red>javah -jni x.java</font> # generates a C header file for the native methods</li><li>each native method has an extra couple of parameters:<ul><li>JNIEnv</li><li>jsobject (this)</li></ul></li><li>create a shared library</li></ul>q<br>how do you create a shared library<br>&nbsp;&nbsp;a<br>On Solaris, the following command builds a shared library libhello.so:<br>&nbsp;&nbsp;cc -G -I/usr/local/java/include -I/usr/local/java/include/solaris &#092;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HelloWorldImp.c -o libhello.so<br>&nbsp;&nbsp;On Microsoft Windows, the following command builds a dynamic link library hello.dll using Microsoft Visual C++ 4.0:<br>&nbsp;&nbsp;cl -Ic:&#092;java&#092;include -Ic:&#092;java&#092;include&#092;win32<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-LD HelloWorldImp.c -Fehello.dll<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>&nbsp;&nbsp;how are Native method names generated?<br>a<br>from the following components:<ul><li>the prefix Java_</li><li>the fully qualified class name</li><li>an underscore "_" separator</li><li>the method name</li></ul>q<br>Java types in C<br>a<ul><li>Java double becomes jdouble, etc.</li><li>Java objects are all passed by reference as jobject or a child:<ul><li>jthrowable</li><li>jstring</li><li>jarray</li><li>jclass</li></ul></li></ul>q<br>access a jstring in native code<br>a<br>JNIEXPORT jstring JNICALL<br>Java_Prompt_getLine(JNIEnv *env, jobject obj, jstring prompt)<br>&#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;char buf[128];<br>&nbsp;&nbsp;&nbsp;&nbsp;const char *str = env-&gt;GetStringUTFChars(env, prompt, 0);<br>&nbsp;&nbsp;&nbsp;&nbsp;printf("%s", str);<br>&nbsp;&nbsp;&nbsp;&nbsp;env-&gt;ReleaseStringUTFChars(env, prompt, str);<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>does purify work w/ jni?<br>a<br>yes: <a href=\'http://ptolemy.eecs.berkeley.edu/~cxh/java/purify/\'>http://ptolemy.eecs.berkeley.edu/~cxh/java/purify/</a><br>q<br>JNI: in native code allocate a new jstring<br>a<br>NewString constructs a new java.lang.String object from an array of Unicode characters.<br>q<br>JNI: in native code: get strlen<br>a<ul><li>GetStringLength returns the length of a string that is comprised of an array of Unicode characters.</li><li>GetStringUTFLength returns the length of a string if it is represented in the UTF-8 format.</li></ul>q<br>JNI: in native code: access a java array<br>a<br>Get&lt;Java_type&gt;ArrayElements<br>&nbsp;&nbsp;e.g.,<ul><li>GetBooleanArrayElements</li><li>GetByteArrayElements</li><li>GetCharArrayElements</li><li>GetShortArrayElements</li><li>GetIntArrayElements</li><li>GetLongArrayElements</li><li>GetFloatArrayElements</li><li>GetDoubleArrayElements</li></ul>The JNI also provides a set of functions to release arrays of different primitive types. The following table summarizes these functions.<br>&nbsp;&nbsp;JNI Functions for Releasing Arrays<ul><li>ReleaseBooleanArrayElements</li><li>ReleaseByteArrayElements</li><li>ReleaseCharArrayElements</li><li>ReleaseShortArrayElements</li><li>ReleaseIntArrayElements</li><li>ReleaseLongArrayElements</li><li>ReleaseFloatArrayElements</li><li>ReleaseDoubleArrayElements</li></ul>Accessing a Small Number of Elements<br>&nbsp;&nbsp;Note that the Get&lt;type&gt;ArrayElements function might potentially copy the entire array. You may want to limit the number of elements that are copied, especially if your array is large. If you are only interested in a small number of elements in a (potentially) large array, you should instead use the <font color=red>Get/Set&lt;type&gt;ArrayRegion</font> functions. These functions allow you to access, via copying, a small set of elements in an array.<br>&nbsp;&nbsp;Accessing Arrays of Objects<br>&nbsp;&nbsp;The JNI provides a separate set of functions to access elements of object arrays. You can use these functions to get and set individual object array elements.<br>&nbsp;&nbsp;<font color=red>You cannot get all the object array elements at once</font><ul><li>GetObjectArrayElement returns the object element at a given index.</li><li>SetObjectArrayElement updates the object element at a given index.</li></ul>q<br>JNI: Calling a Java Method from Native Code<br>a<br>use <font color=red>javap -p -s</font> to get the signature of the method<br>&nbsp;&nbsp;JNIEXPORT void JNICALL<br>Java_Callbacks_nativeMethod(JNIEnv *env, jobject obj, jint depth)<br>&#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;jclass cls = env-&gt;GetObjectClass(env, obj);<br>&nbsp;&nbsp;&nbsp;&nbsp;jmethodID mid = env-&gt;GetMethodID(env, cls, "callback", "(I)V");<br>&nbsp;&nbsp;&nbsp;&nbsp;if (mid == 0) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br>&nbsp;&nbsp;&nbsp;&nbsp;printf("In C, depth = %d, about to enter Java&#092;n", depth);<br>&nbsp;&nbsp;&nbsp;&nbsp;<font color=red>env-&gt;CallVoidMethod</font>(env, obj, mid, depth);<br>&nbsp;&nbsp;&nbsp;&nbsp;printf("In C, depth = %d, back from Java&#092;n", depth);<br>&#125;<br>&nbsp;&nbsp;In addition to the Call<font color=red>Void</font>Method are other instance method invocation functions.<br>q<br>JNI: Passing Arguments to Java Methods<br>a<br>several ways:<ul><li>pass the arguments following the method ID.</li><li>one va_list arg passed to Call<font color=red>Void</font>MethodV</li><li>array of jvalue union types passed to Call<font color=red>Void</font>MethodA<br>&nbsp;&nbsp;typedef union jvalue &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;jboolean z;<br>&nbsp;&nbsp;&nbsp;&nbsp;jbyte b;<br>&nbsp;&nbsp;&nbsp;&nbsp;jchar c;<br>&nbsp;&nbsp;&nbsp;&nbsp;jshort s;<br>&nbsp;&nbsp;&nbsp;&nbsp;jint i;<br>&nbsp;&nbsp;&nbsp;&nbsp;jlong j;<br>&nbsp;&nbsp;&nbsp;&nbsp;jfloat f;<br>&nbsp;&nbsp;&nbsp;&nbsp;jdouble d;<br>&nbsp;&nbsp;&nbsp;&nbsp;jobject l;<br>&#125; jvalue;</li></ul>q<br>JNI: how do you get/set Java member variables from native code<br>a<br>Obtain the identifier for that member variable from its class, name, and type signature. For example, in FieldAccess.c, we get the identifier for the class integer member variable si as follows:<br>&nbsp;&nbsp;fid = env-&gt;GetStaticFieldID(env, cls, "si", "I");<br>&nbsp;&nbsp;and we get the identifier for the instance string member variable s as follows:<br>&nbsp;&nbsp;fid = env-&gt;GetFieldID(env, cls, "s", "Ljava/lang/String;");<br>&nbsp;&nbsp;Use one of several JNI functions to either get or set the member variable specified by the member variable identifier. To get the value of a class member variable, pass the class to one of the appropriate class member variable access functions. To get the value of an instance member variable, pass the object to the appropriate instance member variable access function. For example, in FieldAccess.c, we use GetStaticIntField to get the value of the class integer member variable si, as follows:<br>&nbsp;&nbsp;si = env-&gt;GetStaticIntField(env, cls, fid);<br>&nbsp;&nbsp;We use the function GetObjectField to get the value of the instance string member variable s:<br>&nbsp;&nbsp;jstr = env-&gt;GetObjectField(env, obj, fid);<br>q<br>JNI: catch/throw from native code<br>a<br>...<br>exc = env-&gt;ExceptionOccurred(env);<br>if (exc) &#123;<br>...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env-&gt;ExceptionDescribe(env);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env-&gt;ExceptionClear(env);<br>...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newExcCls = env-&gt;FindClass(env, "java/lang/IllegalArgumentException");<br>if (newExcCls == 0) &#123; /* Unable to find the new exception class, give up. */<br>&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&#125;<br>env-&gt;ThrowNew(env, newExcCls, "thrown from C code");<br>q<br>JNI: can refs to Java data persist beyond the native code invocation?<br>a<br><a target=win2 href=http://java.sun.com/docs/books/tutorial/native1.1/implementing/refs.html>Not w/ the default local refs</a>. Instead use a global ref:<br>&nbsp;&nbsp;jclass cls1 = env-&gt;GetObjectClass(env, obj);<br>if (cls1 == 0) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... /* error */<br>&#125;<br>cls = env-&gt;NewGlobalRef(env, cls1);<br>&nbsp;&nbsp;&nbsp;&nbsp;To free Java objs from native code:<br>&nbsp;&nbsp;&nbsp;env-&gt;Delete<font color=red>Local</font>Ref(env, lref);<br>&nbsp;env-&gt;Delete<font color=red>Global</font>Ref(env, lref);<br>&nbsp;&nbsp;q<br>what\'s the JNI equivalent to<br>&nbsp;&nbsp;synchronized (obj) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;... /* synchronized block */<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&#125;<br>a<br>&nbsp;&nbsp;...<br>env-&gt;MonitorEnter(env, obj);<br>... /* synchronized block */<br>env-&gt;MonitorExit(env, obj);<br>...<br>&nbsp;&nbsp;q<br>distributed cache in Java<br>a<br><a target=win2 href=http://www.spiritsoft.com/products/cache>spiritcache, a JMS-based soln</a><br>q<br>2PC<br>a<br>two phase commit<br>q<br>Java thread primitives<br>a<br><a target=win2 href=http://java.sun.com/docs/books/tutorial/essential/threads/waitAndNotify.html>wait and notifyAll</a><br>&nbsp;&nbsp;q<br>how do you get efficient access to serialized Java objects<br>a<br><a target=win2 href=http://www.coyotegulch.com/jisp/index.html>Jisp</a> supports B-Tree and hash indexes for keyed access to variable-length serialized objects stored in files.<br>q<br>sql: oracle: get a julian date<br>a<br>[number of days since January 1, 4712 BC.]<br>&nbsp;&nbsp;SELECT TO_CHAR(TO_DATE(\'01-01-1997\', \'MM-DD-YYYY\'),\'J\') FROM DUAL;<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>sql: oracle: get current date<br>a<br>sysdate<br>&nbsp;&nbsp;SYSDATE + 1 is tomorrow. SYSDATE - 7 is one week ago. SYSDATE + (10/1440) is ten minutes from now.<br>q<br>sql-92: empty string supported?<br>a<br>no.<br>q<br>sql: s/(.*)/&#092;L$1/<br>sql: s/(.*)/&#092;U$1/<br>a<br>lower, upper<br>q<br>sql: constraint syntax<br>a<br>create table foo (... constraint constraint_name check (...))<br>q<br>sql: CROSS JOIN<br>a<br>Cartesian product<br>q<br>sql: Relational division<br>a<br>e.g.:<br>&nbsp;&nbsp;SELECT DISTINCT pilot<br>&nbsp;&nbsp;FROM PilotSkills AS PS1<br>&nbsp;WHERE NOT EXISTS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SELECT *<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FROM Hangar<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE NOT EXISTS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(SELECT * ',
'id' => 0,
},
{
'A' => ' ',
'Q' => 'We are finding the pilots for whom there does not exist a plane in the hangar for which they have no skills. The use of the NOT EXISTS() predicates is for speed. Most SQL systems will look up a value in an index rather than scan the whole table. This query for relational division was made popular by Chris Date in his textbooks, but it is not the only method, nor always the fastest. Another version of the division can be written so as to avoid three levels of nesting. While it is not original with me, I have made it popular in my books.<br>&nbsp;&nbsp;&nbsp;&nbsp;SELECT PS1.pilot<br>&nbsp;&nbsp;&nbsp;FROM PilotSkills AS PS1, Hangar AS H1<br>&nbsp;&nbsp;WHERE PS1.plane = H1.plane<br>&nbsp;&nbsp;GROUP BY PS1.pilot<br>&nbsp;HAVING COUNT(PS1.plane) = (SELECT COUNT(plane) FROM Hangar);<br>&nbsp;&nbsp;There is a serious difference in the two methods if the hangar is empty: Date\'s query returns all pilots; mine returns an empty set<br>q<br>grid computing frameworks<br>a<br>DataSynapse offers <a target=win2 href=http://www.datasynapse.com/products/>WebProc</a>, a P2P distributed computing application based on the Java API targeted towards financial data processing. WebProc can be configured to use idle processing ability within an intranet, across extranets or over the Internet. The WebProc system works by installing a downloadable low level resource with a footprint of less than one megabyte on each computer in a company\'s intranet. Whenever a PC is idle for ten minutes, its processor is tapped for use until the local user reestablishes local control by moving the mouse. The system is powered by a Java tool installed on the company\'s applications server that breaks its proccesses down into individual tasks, then farms them out to available PCs. DataSynapse also administers a Web based P2P network that anyone with a broadband connection may apply to join (members currently get about $5 of Flooz per month for use of their idle time). Companies can purchase "power by the hour" from DataSynapse to access processing power from the network.<br>q<br>&nbsp;&nbsp;what\'s wrong w/ javac?<br>a<br>it locks JAR files. So use a different compiler (such as Jikes).<br>&nbsp;&nbsp;Alternatively (assuming you have Ant 1.4+): set the property "build.compiler" to "extJavac". This tells Ant to fork a separate process for using Javac, which will release the lock when it terminates. Alternatively, set the "fork" attribute of the javac task to true.<br>&nbsp;&nbsp;q<br><a target=win2 href=\'D:&#092;downloads&#092;cruisecontrol&#092;cruisecontrol-2.1.1&#092;main&#092;docs&#092;configxml.html>CruiseControl</a> config: quietPeriod dft<br>a<br>1 min.<br>q<br>what is a <a target=win2 href=\'http://www.loria.fr/~molli/cvs/doc/cvs_18.html#SEC153\'>cvs <i>module</i></a>?<br>a<br>a collection of files<br>q<br>what is Apache AXIS<br>a<br>an implementation of SOAP<br>q<br>what is <a target=win2 href=\'http://www.bouncycastle.org/\'>Bouncy Castle</a>?<br>a<br>src a lightweight cryptography API in Java, and<ul><li>Generators for Version 1 and Version 3 X.509 certificates and PKCS12 files.</li><li>Generators for S/MIME and CMS (PKCS7).</li><li>Generators OCSP (RFC 2560).</li></ul>q<br>cf Web Services v. alternatives<br>a<br>Web Services have certain advantages over other technologies:<br>&nbsp;&nbsp;pros:<ul><li>Web Services are platform-independent and language-independent, since they use standard XML languages.</li><li>Most Web Services use HTTP, a major advantage for Internet-scale applications.</li></ul>cons:<ul><li>Overhead.</li><li>Lack of versatility. Currently, Web Services are not very versatile, since they only allow for some very basic forms of service invocation. CORBA, for example, offers programmers a lot of supporting services (such as persistency, notifications, lifecycle management, transactions, etc.) In fact, in the next page we\'ll see that Grid Services actually make up for this lack of versatility.</li></ul>q<br>what is the sequence of steps to program a Web Services client?<br>&nbsp;&nbsp;a<ul><li>We locate a Web Service that meets our requirements through UDDI.</li><li>We obtain that Web Service\'s WSDL description.</li><li>We generate the stubs once, and include them in our application.</li><li>The application uses the stubs each time it needs to invoke the Web Service.</li></ul>q<br>what is the <i>port type</i> in Web Services jargon?<br>a<br>This is the service interface, and is usually written <font color=red>PortType</font>. It is a spec of what the service provides to the outer world, expressed in <font color=red>WSDL</font>.<br>q<br>how does an object instance reveal what it\'s capable of?<br>a<br>with a <a target=win2 href=\'http://www.casa-sotomayor.net/gt3-tutorial/core/service_data/sd_ogsa.html\'>Service Data Set</a>, which contains zero or more Service Data Elements (or SDEs). SDE classes must be Java Beans. They are generated from <font color=red>Service Data Descriptions</font> (or SDDs) written in <a target=win2 href=\'http://www.w3c.org/XML/Schema\'>XML Schema</a>.<br>q<br>globus: how can you trace SOAP messages?<br>a<br>Three methods:<br>1. To trace SOAP messages on the wire you can use TcpMon from Apache Axis. After running the setenv script in &lt;ogsa java root&gt; you can run:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java org.apache.axis.utils.tcpmon [listenPort targetHost targetPort]<br>&nbsp;&nbsp;If no arguments are used, you have to fill out these values in the GUI.<br>&nbsp;&nbsp;2. One method for logging SOAP messages is to add the org.globus.ogsa.handlers.MessageLoggingHandler to the request or response chain in the server-config.wsdd or client-config.wsdd files. For example:<br>&nbsp;&nbsp;&lt;requestFlow&gt;<br>&nbsp;&nbsp;...<br>&nbsp;&nbsp;&lt;handler type="java:org.globus.ogsa.handlers.MessageLoggingHandler"/&gt;<br>&nbsp;&nbsp;...<br>&lt;requestFlow&gt;<br>3. Another method for tracing SOAP messages is to enable logging for selected Axis classes. Add the following lines to the ogsilogging.properties file:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org.apache.client.Call=console,debug<br>&nbsp;&nbsp;&nbsp;&nbsp;org.apache.axis.transport.http.HTTPSender=console,debug<br>&nbsp;&nbsp;This will cause axis client side calls and Axis HTTP messages to be logged.<br>&nbsp;&nbsp;q<br>JNI: Calling Class Methods<br>a<br>Obtain the method ID using the Get<font color=red>Static</font>MethodID (rather than the function GetMethodID)<br>Invoke CallStatic<font color=red>Void</font>Method<br>&nbsp;&nbsp;JNIEXPORT void JNICALL<br>Java_Callbacks_nativeMethod(JNIEnv *env, jobject obj, jint depth)<br>&#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;jclass cls = env-&gt;GetObjectClass(env, obj);<br>&nbsp;&nbsp;&nbsp;&nbsp;jmethodID mid = env-&gt;GetStaticMethodID(env, cls, "incDepth", "(I)I");<br>&nbsp;&nbsp;&nbsp;&nbsp;if (mid == 0) &#123;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br>&nbsp;&nbsp;&nbsp;&nbsp;depth = env-&gt;CallStaticIntMethod(env, cls, mid, depth);<br>&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;q<br>when are EJBs the simplest approach<br>a<ul><li>for JMS-driven msg beans</li><li>for cmt (container managed xactions)</li><li>to support corba clients (EJBs support IIOP)</li></ul>q<br>options in j2ee for maintaining svr-side state<br>a<ul><li>HTTP session objs</li><li>stateful session EJBs</li></ul>q<br>rxvt<br>a<br>an xterm for win32 systems that doesn\'t require an Xserver<br>q<br>NIC Card<br>a<br>Network Interface Card<br>q<br>an xterm for win32 systems that doesn\'t require an Xserver<br>a<br>rxvt<br>q<br>what is the biggest improvement in EJB 2<br>a<br>EJB 2 allows local interfaces, in addition to or instead of, remote interfaces.<br>q<br>how can you use EJB without RMI<br>a<br>1. By means of local interfaces<br>2. Or via Web services (which themselves then use local interfaces)<br>q<br>what are the most important drawbacks for EJB<br>a<ul><li>unduly influences the object-oriented design when used remotely</li><li>reduces the possible set of application servers (without EJB, any old Web container will do)</li><li>harder to test, because they are so dependent on container services</li><li>harder to deploy because of<ul><li>complex class loader issues</li><li>complex deployment descriptors</li></ul></li></ul>q<br>arguments in favor of EJB<br>a<ul><li>takes care of the thread issues</li><li>transparent transaction management</li><li>declarative support for rule-based security</li></ul>q<br>how does an enterprise information system access another enterprise information system<br>a<br>Java connector architecture (JCA)<br>&nbsp;&nbsp;q<br>Rod Johnson: tiers<br>a<ul><li>EIS (enterprise information system), consisting of the enterprise resources the application must access (e.g., DBMSs)</li><li>middle tier: consists of business objects mediating access to EIS tier resources</li><li>UI tier</li></ul>q<br>rod Johnson: j2ee architectural patterns<br>a<ul><li>Web application with business component interfaces</li><li>Web application with local EJB\'s</li><li>distributed application with remote EJB\'s</li><li>Web application exposing Web services interface</li></ul>q<br>what are the strengths of the architectural patterns "Web application with business component interfaces"<br>a<ul><li>generally simpler than approaches which use EJB (although if the programming of security and threading becomes too complex, it may be simpler to go the EJB route)</li><li>all container APIs are available (including transaction and security methods) except for entity beans</li><li>can be distributed using server support session state replication</li></ul>q<br>&nbsp;&nbsp;distributed EJB strengths and weaknesses<br>a<br>strengths: supports all j2ee client types; achieves maximal scalability (especially if the EJB tier is stateless, leaving the state to be maintained by the UI tier)<br>&nbsp;&nbsp;weaknesses:<ul><li>high overhead of slow remote calls</li><li>OO design is hampered by the central use of RMI</li><li>exception handling is complex</li><li>hard to test distributed applications</li><li>too complicated</li></ul>q<br>Web services vs. EJB\'s<br>a<br>Web services eliminate one powerful reason for using EJB\'s because of their support for remote operation<br>Web logic and some other application servers allow direct exposure of EJB\'s as Web services<br>&nbsp;&nbsp;q<br>relates the various roles in an MVC application to j2ee components<br>a<ul><li>Model: a JavaBean that exposes data</li><li>view: a component used to display the data in a model: usually JSP pages</li><li>controller: a Java class which handles incoming requests, interacts with business objects, builds models, and forwards each request to the appropriate view</li></ul>q<br>how do you isolate problematic sections of the application<br>a<br>(for example, sections which use platform-specific features)<br>use loose coupling so that the sections can be replaced<br>&nbsp;&nbsp;q<br>what\'s wrong with EJB QL<br>a<ul><li>No aggregate functions</li><li>no order by clause</li><li>no stored procedures</li></ul>q<br>is using vendor-specific enhancements for EIS resource-specific functionality a terrible thing?<br>a<br>No, so long as they can be accessed without compromising design portability.<br>Use loose coupling to isolate vendor-specific areas which will likely change in the event of a software migration<br>&nbsp;&nbsp;q<br>how do you guard against unknowingly the coming dependent on application server vendor-specific features or idiosyncrasies<br>a<br>incorporate into your build the j2ee verifier tool that ships with the reference implementation<br>&nbsp;&nbsp;q<br>how can you verified that an application server is compatible with the standard<br>a<br>Sun\'s compatibility test suite<br>&nbsp;&nbsp;However, this test does not cover ease of server installation and administration.<br>q<br>JTA<br>a<br>Java transaction API<br>q<br>which application server is faster<br>a<br>Sun\'s ECPerf benchmark shed some light, but it is difficult to compare because the reported results are generally on different hardware using different databases<br>&nbsp;&nbsp;An Australian standards organization has a commercial performance comparison: <a href=\'http://www.cmis.csiro.au/adsat/j2eev2.htm\'>http://www.cmis.csiro.au/adsat/j2eev2.htm</a><br>&nbsp;&nbsp;q<br>CMP entity beams are very slow. Has anyone done anything about it?<br>a<br>yes, by means of vendor-specific functionality, adding features like optimistic locking, which are not mandated by the specification<br>q<br>what is a frequently overlooked release reproducibility issue<br>a<br>management of binary dependencies that may change between releases (e.g., Velocity jars)<br>q<br>xdoclet alternative<br>a<ul><li><a target=win2 href=\'http:www.beust.com/cedric/ejbgen/\'>EJBGen</a>, bundled with Web logic 7</li></ul>q<br>with lots of dependencies on third party jars, what is a big risk for j2ee projects<br>a<br>conflicting dependencies<br>q<br>what are "acceptance tests" sometimes called<br>a<br>functional tests<br>&nbsp;&nbsp;These tests ignore implementation details, and test the ultimate functionality<br>&nbsp;&nbsp;q<br>distinguish between load tests and...<br>a<br>... stress tests<br>&nbsp;&nbsp;Load tests show what the relationship between performance and load is. Stress tests show how the software reacts to __excessive__ loads<br>q<br>in a JUnit test, what do we called the set of objects being tested<br>a<br>a test fixture<br>q<br>how you avoid hard coding file paths to test configuration data<br>a<br>by loading configuration data by means of the class path (using Class.getResource() or Class.getResourceAsStream())<br>q<br>where should test code live<br>a<br>it should be in a tree which parallels the code line.<ul><li>This makes it easy to exclude test code from production binaries.</li><li>Allows the inheritance hierarchy to match the code line inheritance hierarchy, with test dependencies nicely reflected.</li></ul>Maintain identical package names so that the test code will have access to package-private items, if needed.<br>&nbsp;&nbsp;(Note that JUnit will run all the tests in the current test class, and all of the tests in its parents.)<br>q<br>what is a primary benefit for testing which is yielded when we cleanly separate the software into layers<br>a<br>the responsibility of a given layer is limited to how it reacts to the adjacent layers. There is no need for each layer to participate in a full system test<br>q<br>cactus class loading pitfall<br>a<br>if the cactus binaries are included in the EJB jar, mysterious "class not found" errors result<br>q<br>alternative to cactus for j2ee testing<br>a<br>JUnitEE: is simpler and that it simply runs JUnit tests on the server, controlled by a servlet. There is no out-of-the-box support for automating tests.<br>Cactus, in contrast, has both client and server dependencies. However cactus can be run in a mode where everything is done on the server, controlled by a servlet test runner.<br>q<br>how can test set up for external dependencies (like databases) be greatly reduced<br>a<br>mock objects<br>q<br>Web interface testing issues<br>a<ul><li>resubmit</li><li>back button</li><li>security (e.g., resistance to denial of service attacks)</li><li>multiple window possibility</li><li>request cancellations</li><li>browser (and possibly ISP) caching</li></ul>q<br>Rod Johnson thinks that a superior alternative to White box testing is<br>a<br>liberal use of assertions<br>100<br>q<br>software to execute http requests and make assertions about the responses\' content<br>a<br>HttpUnit<br>q<br>HTML screen scraper<br>a<br>HttpUnit<br>100<br>q<br>how do you retrieve the current security principal<br>a<ul><li>within a servlet: javax.servlet.http.HttpServletRequest.getUserPrincipal()</li><li>within asynchronous message driven EJB driven by JMS: this info is not available</li><li>within EJB: javax.ejb.EJBContext.getCallerPrincipal()</li></ul>q<br>what are some stress testing tools<br>a<ul><li><a target=win2 href=\'http://webtool.rte.microsoft.com/\'>Microsoft\'s Web application stress tool</a></li><li>the grinder</li></ul>q<br>ant task to automate JUnit testing<br>a<br>page 107<br>q<br>Java assertions<br>a<br>were added for J2SE 1.4<br><a target=win2 href=\'http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html\'>more info</a><ul><li>Since Java assertions can be disabled, they must involve <font color=red>no actions with side effects</font> needed for correct operation.</li><li>Use the assert form which includes a detail message to elucidate complicated situations</li><li>Sun thinks assertions should not be used to check the parameters of a public method, because they think methods guarantee enforcement rules governing the arguments</li></ul>q<br>how do you assert that an object has been locked by the current thread<br>a<br>assert Thread.holdsLock(this);<br>q<br>how can you tell if Java 1.4 assertions are enabled<br>a<br>boolean assertsEnabled = false;<br>assert assertsEnabled = true; // Intentional side effect<font color=red>!<br>if (!assertsEnabled)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout.print("Asserts must be enabled</font>!");<br>q<br>how do you control Java 1.4 assertions<br>a<br>they can be enabled with the <font color=red>-enableassertions, or -ea</font> switches. These switches can also specify a package name if you don\'t want to do a global setting.<br>q<br>what is the peculiarity in sun\'s treatment of assertions during program initialization<br>a<br>an assert statement that executes before its class is initialized is never disabled, regardless of the settings<br>&nbsp;&nbsp;This is because many programmers are unaware of the fact that a class\'s constructors and methods can run prior to its initialization. When this happens, it is quite likely that the class\'s invariants have not yet been established, which can cause serious and subtle bugs. Any assertion that executes in this state is likely to fail, alerting the programmer to the problem. Thus, it is generally helpful to the programmer to execute all assertions encountered while in this state.<br>q<br>how can you effectively test the sanity of your state on a regular basis with no overhead<br>a<br>at method start:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert classInvariants();<br>&nbsp;&nbsp;&nbsp;&nbsp;q<br>HttpUnit<br>&nbsp;&nbsp;a<br>software to execute http requests and make assertions about the responses\' content<br>q<br>how do you promote loose coupling between components<br>a<br>by programming two interfaces, not implementations<br>&nbsp;&nbsp;this also brings the benefit of not committing to a particular inheritance hierarchy.<br>q<br>common mistakes with concrete inheritance<br>a<ul><li>forcing users to extend an abstract or concrete class instead of requiring implementation of a simple interface. This is particularly damaging given Java\'s lack of support for multiple inheritance</li><li>using concrete inheritance to provide helper functionality, with common subroutines in super classes. This prevents the reuse of the helper code</li><li>using abstract classes instead of interfaces. This leads the trouble because of the multiple inheritance problem</li></ul>q<br>what is the template method design pattern an example of<br>a<br>inversion of control<br>q<br>one category of software uses the template method design pattern for most<br>a<br>frameworks<br>q<br>compare the strategy pattern vs. the template method pattern<br>a<br>120<br>strategy is more complex, but more flexible. This is a classic example of the trade-off between delegating to interfaces and using concrete inheritance<br>&nbsp;&nbsp;q<br>one would be appropriate to use an inner interface<br>a<br>when you are defining an interface which will be used by callbacks in subclasses. This interface will not be relevant outside of this class hierarchy<br>121<br>q<br>Observer design pattern pitfall<br>a<br>listener callbacks must return quickly.<br>&nbsp;&nbsp;Although it would be possible to spawn new threads for each listener, since most listeners return quickly, the performance penalty of creating new threads would be a bad idea<br>q<br>how can you give method parameters default values in Java<br>a<br>by combining them into an object whose constructors assign default values<br>&nbsp;&nbsp;(obviously you will need to be aware of the performance applications of this strategy: <font color=red>objects consumed heap space; primitives don\'t</font>)<br>q<br>how can you give method parameters default values in Java<br>a<br>by combining them into an object whose constructors assign default values<br>&nbsp;&nbsp;(obviously you will need to be aware of the performance applications of this strategy: <font color=red>objects consumed heap space; primitives don\'t</font>)<br>q<br>compare exceptions in Java vs. exceptions in C++<br>a<br>Java divides exceptions into two categories:<ul><li>checked exceptions extend java.lang.Exception</li><li>unchecked exceptions extend java.lang.RuntimeException</li></ul>C# is like C++: all of their exceptions are unchecked<br>q<br>what is the guideline for using checked vs. unchecked exceptions<br>a<br>use checked if all calling code should do something in response to the exception<br>&nbsp;&nbsp;Remember to document all unchecked exceptions your code throws in the Java doc<br>q<br>&nbsp;&nbsp;&nbsp;&nbsp;Have you prevent stranding resources in the event of an exception<br>a<br>finally<br>&nbsp;&nbsp;note that finally clauses do not require a catch as a companion<br>q<br>what has been done in Java 1.4 to prevent stack traces from being lost<br>a<br>new constructors have been defined for Throwable and Exception to support chaining<br>&nbsp;&nbsp;also Throwable.initCause(Throwable)<br>&nbsp;&nbsp;EJB 2 also has a new exception constructors to support chaining<br>&nbsp;&nbsp;q<br>how should java.rmi.RemoteException be handled<br>a<br>the Business Delegate façade object should catch this technology-specific exception and either handle the failure or throw and exception which is not technology-specific<br>132<br>q<br>what\'s the ternary operator<br>&nbsp;&nbsp;&nbsp;&nbsp;a<br>(a &lt; b; a ? b);<br>&nbsp;&nbsp;q<br>if you program to interfaces instead of implementations, how do you instantiate an object?<br>a<br>136<br>use a factory which is driven by parameters coming from the configuration<br>&nbsp;&nbsp;Rod Johnson includes an example of code to accomplish instantiating objects whose names are unknown until runtime<br>q<br>what do JavaBeans give you<br>a<ul><li>PropertyEditor</li><li>PropertyChangeListener</li><li>VetoableChangeListener</li><li>Introspector</li></ul>q<br>what\'s wrong with Singletons has typically implemented<br>a<br>they use static variables which introduce a dependency on a specific class<br>&nbsp;&nbsp;Rod Johnson recommends an application registry to overcome this problem. This also fixes the difficulty of multiple Singletons whose static initialization might depend on each other.<br>&nbsp;&nbsp;Instead a single ApplicationContext (or ServletContext if you are programming servlets) manages instantiation on an as needed basis<br>q<br>how do you refer to a static constant<br>a<br>if it is a possibility that this constant will change in the future, or perhaps be replaced by a dynamically determined value, use a method wrapper for the constant to make the upgrade path easy<br>q<br>public instance variables: what\'s wrong with them<br>a<ul><li>they have to be final or else they can be changed at any time. Being final means that they must be initialized in the constructor, which is inconvenient.</li><li>In flexible</li><li>ties us to concrete classes, not interfaces</li><li>instance variable access cannot be intercepted (e.g., using PropertyChangeListener callbacks in JavaBeans to achieve aspect oriented programming)</li></ul>Because they are so in flexible, they are really only suitable for local use (e.g., in private and protected in classes). One could use them to package multiple return values.<br>q<br>what are good method visibility guidelines<br>a<br>make methods either private or public. Protected methods lead to dependencies between classes in the hierarchy. And since Java methods are all virtual, they also lead to corruption of super classes\' functionality<br>&nbsp;&nbsp;inheritance should be a black box operation in order to protect the integrity of the superclass<br>q<br>tell me about inner classes<br>a<ul><li>static inner classes can be instantiated without the creation of an object of the enclosing type</li><li>non static inner classes are linked to an instance of the enclosing type</li></ul>All inner interfaces are static<br>q<br>what are the disadvantages of anonymous inner classes<br>a<ul><li>cannot be reused</li><li>are accessible only in the single method call</li><li>can\'t have constructors which take arguments</li></ul>q<br>how can we enforce the treatment of inheritance as a black box operation<br>a<br>by making public and protected methods final<br>&nbsp;&nbsp;q<br>what\'s a fancy name for substitutability of subclasses for super classes<br>a<br>Liskov Substitution Principal<br>153<br>q<br>what is the Open Closed Principle<br>a<br>objects are open to extension but closed to modification<br>q<br>if an object must be guaranteed to be immutable<br>a<br>make the class final<br>q<br>how can you tell if you are holding two references to the same object<br>a<br>System.identityHashCode() returns the default Object hash code, which in most JVM\'s will be based on an object\'s location in memory<br>q<br>how do you ordered the operands for the equals operation<br>a<br>call equals on the object less likely to be null. If one of the object is a constant, then that is the winner.<br>157<br>q<br>collections vs. typed arrays<br>a<br>normally you should prefer typed arrays, unless<ul><li>the collection is a remote proxy wrapper which lazily retrieves data only in response to user traversal of the collection</li><li>the elements are not of the same type, or are of unknown types</li><li>when the object genuinely is a map of keys to values</li></ul>q<br>what do you call this?<br>&nbsp;&nbsp;(a &lt; b; a ? b);<br>&nbsp;&nbsp;&nbsp;&nbsp;a<br>the ternary operator<br>q<br>what is a guideline for documentation of a concrete implementation of an interface<br>a<br>do not duplicate documentation from the interface<br>q<br>what are your options for logging<br>a<ul><li>log4j -- available now, but may already be incorporated in third party products which you must interoperate with, raising the possibility of version conflicts</li><li>Java 1.4 logging</li><li>Rod Johnson\'s Java 1.4 logging emulation</li><li>servlet API\'s logging -- don\'t use it, because it will tie your business logic to servlet technology</li></ul>q<br>Java 1.4 log message severities<br>a<ul><li>severe</li><li>config</li><li>info</li><li>fine</li><li>finer</li><li>finest</li></ul>q<br>logging and performance<br>a<br>activating the settings which show the class method and line number is very expensive; this information is generated by parsing stack traces<br>q<br>how do you avoid explicitly using the file system to retrieve a resource<br>a<br>use the class path<br>q<br>logging pitfall in distributed applications<br>a<br>Java 1.4 loggers are not serializable<br>&nbsp;&nbsp;so objects that will be passed between architectural tiers have to be careful about logging, perhaps obtaining a fresh lager for each invocation<br>166<br>q<br>how can you react within a Java program to being moved to a new JVM within a cluster?<br>a<br>&nbsp;&nbsp;private transient boolean didNotJustMoveToNewJVM<br>&nbsp;&nbsp;didNotJustMoveToNewJVM should become false (its "initial" value) in the new JVM<br>q<br>Pareto principle<br>a<br>if a piece of work seems especially hard, you should ask whether it is really necessary<br>q<br>describe a Cisco loan balancer<br>a<br>a device which presents a single IP to the outside world, but routes requests to servers on the LAN on a round-robin basis (optionally supporting "sticky" routing where a client will be temporarily assigned a particular server)<br>q<br>scalability in distributed J2EE apps depends on<br>a<br>not maintaining server side state <br>205<br>q<br>idempotent EJB methods<br>a<br>our EJB methods which do not cause an update<br>q<br>SLSB<br>a<br>stateless session beans<br>208<br>q<br>compare failover support in Web logic vs. tomcat<br>a<ul><li>Web logic duplicates server state in a randomly selected secondary server</li><li>tomcat duplicates server state in all servers in the cluster</li></ul>q<br>technique to reduce the size of server state<br>a<br>replace an object with a lookup key<br>q<br>what our transactions logically associated with<br>a<br>a thread within a JVM<br>q<br>what our "local transactions" in the context of J2EE<br>a<br>transactions which are "local" in the sense of being isolated from the integrated transaction management of the J2EE platform (e.g., JDBC transactions)<br>q<br>BMT is forbidden for<br>a<br>(bean managed transactions) for entity beans<br>q<br>212<br>is it possible for a bean to have some methods use CMT and others use BMT<br>a<br>no, this is configured at the bean level with<br>q<br>is it possibly legitimate for a stateless bean using BMT to initiate a transaction and then returned from its method without committing or rolling back<br>a<br>no<br>q<br>EJB programming restrictions<br>a<ul><li>EJB\'s should not use read/write static fields (because it jeopardizes correct behavior in a cluster)</li><li>EJB\'s must not use thread synchronization or manipulation</li><li>no direct file I/O</li><li>no classloader stuff</li><li>no JNI</li><li>no security config stuff</li></ul>q<br>solutions to the problem of accessing singletons from EJB\'s<br>a<br>[the common implementation of a single 10 is not possible from an EJB because of the prohibition on read/right static fields]<br>1. a singleton can be accessed as a remote object via RMI<br>But this is complex and error prone, and leads to the singleton becoming a single point of failure. And how does the EJB react if the RMI server goes down?<br>&nbsp;&nbsp;2. Stateless Session Bean Pseudo cache -- because stateless session beans are infrequently destroyed, they can serve as a "singleton" in that they are a globally accessible single point of access for a session. obviously they are not truly global, but they can serve as longer lived repositories for expensive objects, for example. Also, synchronization is not an issue since EJB code runs single threaded.<br>&nbsp;&nbsp;3. If the singleton initialization can take place entirely in a static initializer, then the static field referencing the singleton object can be final, and therefore not considered read/write, and therefore becomes kosher for running in a cluster.<br>221<br>q<br>what is the Java class used for scheduling functionality<br>a<br>as of Java 1.3: java.util.Timer<br>q<br>compare remote vs. local EJB\'s<br>a<ul><li>remote calls will be hundreds or thousands of times slower than local</li><li>remote EJB\'s must be accessed using coarse-grained method calls (because of the performance overhead), heavily influencing the design</li><li>remote EJB calls throw java.rmi.RemoteException</li><li>remote EJB\'s are invoked call-by-value; local EJB\'s are invoked call-by-reference</li><li>remote EJB\'s art easier to test because the test code can run outside of the container</li></ul>224<br>q<br>what are the types of messages that JMS supports<br>a<ul><li>publish and subscribe (pub/sub, or "topic")</li><li>point to point (P2P, or "queues")</li></ul>q<br>EJB\'s provide no special JMS-related services. Why then is it still convenient to use JMS within EJB\'s?<br>a<br>EJB\'s CMT is JMS-aware, and the JMS actions can be included in larger transaction management scenarios<br>&nbsp;&nbsp;Note that JMS transactions are not the same as JTS (i.e., conventional J2EE) transactions.<br>JMS transactions refer exclusively to the ability to deliver a set of messages atomically<br>&nbsp;&nbsp;q<br>compare message driven beans with session beans<br>a<ul><li>message driven beans do not have home or component interfaces</li><li>because MDBs have no client, they cannot throw application or RMI exceptions (and if they do, a <font color=red>poison message</font> scenario may occur, where guaranteed delivery leads to infinite retries, w/ the same exception being repeated again and again</li><li>however, MDBs should throw exceptions in the case of transient failures, where retrying will eventually solve the problem. (Example: database temporarily unavailable.)</li></ul>q<br>what is domification, and what are considerations concerning its use<br>a<br>the generation of XML nodes from Java objects using reflection <br>&nbsp;&nbsp;domification products:<ul><li>domify links to HTTP://<a target=win2 href=\'http://domify.sourceforge.net/\'>domify</a></li><li>castor links to <a href=\'http://<a\'>http://<a</a> target=win2 href=\'http://castor.exolab.org/xml-framework.html\'>castor</a></li><li>Java 1.4 integrated support for "long-term JavaBeans persistence"</li></ul>244<ul><li>The object exposed will probably need to be JavaBeans</li><li>cyclic references may pose a problem -- they are legal and Java objects, but don\'t make sense in XML trees</li><li>how do we recover if a bean property getter throws an exception</li></ul>q<br>what are some advantages and disadvantages in using messaging<br>a<ul><li>achieves the best possible load balancing</li><li>nice for executing very slow operations</li><li>provides an alternative to creating threads when this is not an option (i.e., in EJB code)</li><li>no integrated support for determining the client\'s security identity</li></ul>q<br>what\'s wrong with guaranteed messaging<br>a<br>it\'s very slow, possibly involving database updates with each message<br>q<br>what entity is a user\'s identity associated with in a J2EE app and what security information is available in the code:<br>a<br>a thread of execution<br>&nbsp;&nbsp;The security information available in the code:<ul><li>java.security.Principal</li><li>whether they user is in a particular role</li></ul>q<br>how can the security infrastructure simplify the programming model<br>a<br>if the username obtained from the security principal is the primary key to the user\'s persistent data, thus avoiding the need to pass a separate primary key around all over the place<br>q<br>how does the servlet specification govern the authentication of users<br>a<br>with a pseudo URL: j_security_check which expects a POST with the username and password parameters j_username and j_password<br>236<br>q<br>what is it called when we arrange to require users to login only if they request privileged information<br>a<br>lazy authentication<br>q<br>what is the standard servlet API to authenticate a user without submitting the servlet application\'s login form<br>a<br>there is none.<br>&nbsp;&nbsp;There are proprietary server extensions which achieve this, however. One location where this must he is would be where the user has just created a new account; it\'s pretty lame if we require the user to once again type and his ID and password at the login prompt.<br>&nbsp;&nbsp;Another security authentication alternative: <font color=red>JAAS -- the Java authentication and authorization API</font> defined in javax.security.auth.<br>q<br>is jaxp guaranteed to be available in a J2EE app<br>a<br>as of Java 1.3, yes.<br>q<br>when would one want to use xslt<br>a<ul><li>for processing tree-structured data (xslt\'s use of xpath facilitates this)</li><li>sorting and filtering data elements</li></ul>q<br>what do you call it when data is passed around the system in XML form (as opposed to Java objects), and what are the pros and cons of such an approach<br>a<br>"deep" use of XML<ul><li>XML is bad at representing binary data</li><li>using XML data is more awkward than conventional Java objects</li><li>XML does not support object-oriented principles like encapsulation, polymorphism, and inheritance</li><li>XML is a bulky format leading to poor performance will what</li></ul>q<br>what are some approaches to generating XML from a graph of Java objects<br>a<ul><li>code a toElement() method in each class that we\'ll want to represent as XML. [This approach leads to the need for every object in the graph to understand XML. It spreads complexity across the system. And it doesn\'t handle well the common <font color=red>situation where we need to generate XML from an interface which has multiple implementations that don\'t share a superclass</font>]</li><li>Implement the Visitor design pattern to facilitate XML generation</li><li>generate XML nodes from Java objects using reflection -- also known as <font color=red>domification</font></li></ul>241<br>249<br>q<br>why would one prefer using JMS to communicate events over the Observer pattern<br>a<br>because the JMS solution will work even in a clustered environment<br>q<br>what does it mean to normalize data<br>a<br>255<br>to eliminate redundancy<br>q<br>discuss the pros and cons of O/R mapping<br>a<br>object/relational mapping typically maps objects to rows in tables. This is appropriate for simple queries retrieving and updating individual rows (the usual case in OLTP) but not appropriate when retrieving and updating large numbers of rows (the usual case in OLAP)<br>q<br>compare the DAO pattern with O/R mapping<br>a<ul><li>the data access object pattern concerns itself with verbs, just like any other object</li><li>object/relational mapping concerns itself with nouns -- i.e., exactly what is in the schema</li></ul>q<br>data denormalization<br>a<br>is not claim, but can lead to improve performance. With the aid of integrity-enforcing triggers, it is possible to avoid the risks which are normally associative with denormalization<br>q<br>if it is impossible to take advantage of database-specific functionality, what can one conclude<br>a<br>that we have a bad architecture on our hands<br>q<br>267<br>Data Transfer Rowset pattern<br>a<br>[recommended in "EJB design patterns"]<br>&nbsp;&nbsp;A pattern where we use javax.sql.RowSet objects to marshal data to the client<br>&nbsp;&nbsp;this is not so good because<ul><li>no type safety</li><li>not object-oriented</li><li>leads to client code dependency on column names and structures and JDBC itself</li><li>can lead to unneeded data being propagated over the network</li></ul>q<br>discuss transaction isolation<br>a<br>transaction isolation levels determine database behavior, but are managed by the J2EE server<br>&nbsp;&nbsp;In decreasing order of isolation, they are<ul><li>serializable</li><li>repeatable_read</li><li>read_committed</li><li>read_uncommitted</li></ul>q<br>synonym for "artificial" keys in a database<br>a<br>surrogate keys<br>q<br>synonym for "natural" keys in a database<br>a<br>intelligent or natural keys<br>270<br>q<br>what\'s a good way to generate primary keys<br>a<ul><li>use database-specific functionality tied in with stored procedures, instead of insert (see Rod Johnson, page 272)</li><li>if using JDBC 3.0 (required in Java 1.4), you can use ResultSet rs = statement.getGeneratedKeys()</li></ul>q<br>what are the pros and cons of entity beans<br>a<ul><li>object inheritance is forbidden</li><li>no access to aggregate functions in the database without writing custom code (effectively subverting the abstraction they exist to provide)</li><li>excessive complexity</li><li>rigid lifecycle, making it difficult to implement coarse-grained entity beans</li><li>intractable performance problems with BMP</li></ul>q<br>277<br>what\'s wrong with accessing data from JSP<br>a<ul><li>mixes presentation and business logic</li><li>leaves us in a bit of a pickle if we want to do something which is hard in JSP (e.g., generate PDF output)</li><li>very awkward error handling because by the time we encounter any errors, we\'ve already committed to rendering the view produced by the current JSP</li><li>data access implies transaction management, which is better left to a middle tier</li><li>no unit testing, because the JSP does not expose a business interface</li></ul>q<br>what\'s wrong with storing HTML content in databases<br>a<br>HTML coders should not need to touch the database<br>q<br>how can you hide db-specific join syntax from Java code<br>a<br>encapsulate the join in a view which can then be accessed using standard SQL<br>286<br>q<br>what is network byte order<br>a<br>Computer networks are big endian. Intel=big endian, Sun=little endian.<br>&nbsp;&nbsp;q<br>What should you be aware of if you design a program that runs days/weeks/months/years?<br>a<br>be careful about heap allocations, because if you use new/delete intensively in your application, the memory becomes <font color=red>highly fragmented</font> You should be especially careful about CString class which allocates permanent DLL <br>q<br>What\'s the difference between a "mutex" and a "critical section"? <br>a<br>Critical section provides synchronization means for one process only, while mutexes allow data synchronization across processes<br>&nbsp;&nbsp;q<br>complaint about Java arrays<br>a<br>they are "covariant"...<br>&nbsp;&nbsp;Java arrays have the property that there types are covariant , which means that an array of supertype references is a supertype of an array of subtype references.That is, Object[] is a supertype of String[] for example. As a result of covariance all the type rules apply that are customary for sub- and supertypes: a subtype array can be assigned to a supertype array variable, subtype arrays can be passed as arguments to methods that expect supertype arrays, and so on and so forth.Here is an example: <br>Object[] objArr = new String[10];// fine <br>In contrast, generic collections are not covariant. An instantiation of a parameterized type for a supertype is not considered a supertype of an instantiation of the same parameterized type for a subtype.That is, a LinkedList&lt;Object&gt; is not a supertype of LinkedList&lt;String&gt; and consequently a LinkedList&lt;String&gt; cannot be used where a LinkedList&lt;Object&gt; is expected; there is no assignment compatibility between those two instantiations of the same parameterized type, etc.Here is an example that illustrates the difference: <br>LinkedList&lt;Object&gt; objLst = new LinkedList&lt;String&gt;(); // compile-time error <br>Runtime Type Information<br>Java arrays carry runtime type information that identifies the type of the elements contained. Generic collections have no runtime type information about their element type. Here are some examples showing the static type of the reference variables referring to an array or collection and the dynamic type of referenced array or collection:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static type dynamic type <br>String[] strArr = new String[10]; String[] String[] <br>Object[] objArr = new String[10]; Object[] String[] <br>LinkedList&lt;String&gt; strLst = new LinkedList&lt;String&gt;(); LinkedList&lt;String&gt; LinkedList <br>The runtime type information about the element type of array elements is used when elements are stored in an array. Consider the following example: <br>1 Object[] objArr = new String[10]; <br>2 objArr[0] = new Object(); // compiles; fails at runtime with ArrayStoreException <br>&nbsp;&nbsp;q<br>assembly provides <i>evidence</i> or origin [chappell 108]<br>a<ul><li>publisher digital sig</li><li>assembly identity (from strong name)</li><li>web site of origin</li><li>URL of origin</li><li>zone (e.g., local intranet, internet, so forth)</li></ul>q<br>@@<br>a<br>@@<br>q<br>@@<br>a<br>@@<br>q<br>@@<br>a<br>@@<br>q<br>@@<br>a<br>@@ ',
'id' => 1,
},
);
